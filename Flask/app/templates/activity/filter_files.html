

<div class="project-tab">
  <div class="project-box" id="filter-details-tab" onclick="FilterSwap('details')">
    <p>Info</p>
  </div>
  <div class="project-box" id="filter-comments-tab" onclick="FilterSwap('comments')">
    <p>Comments</p>
  </div>
  <div class="project-box" id="filter-post-tab" onclick="FilterSwap('post')">
    <p>Post</p>
  </div>
  <div class="project-box" id="filter-access-tab" onclick="FilterSwap('access')">
    <p>Access</p>
  </div>
</div>
<div class="activity-tab-div">
    <div class="scroll">
        <div class="project-view">
          <div id="filter-details" style="display: none;">
              <form id="filter-form-details">
                <h6 class="tab-title" id="open-toggle" onclick="openToggleInfoTags()">Tags</h6>
                <div class="activity-tab-container" id="tags">
                    <div class="activity-tab-container-inside" id="activity-tag-container">
                        <input type="text" class="add-tag" id="add-tag" onkeypress="addTagListen(event)" placeholder="Add tag">
                        <br>
                        {% for tag in tags %}
                          <div class="tag-container" id="{{ tag['tag'] }} {{ tag['color'] }}">
                              <div class="tag" style="background-color: {{ tag['color'] }}">
                                  <i style="color: white; {% if 'white' in tag['color'] %} color: black; {% endif %}">
                                  {{ tag['tag'] }}
                                  </i>
                              </div>
                              <span class='remove-tag' onclick="removeTag( '{{ tag['tag'] }}', '{{ tag['color'] }}', this )">x</span>
                          </div>
                        {% endfor %}
                        <br>
                    </div>
                  </div>

                <h6 class="tab-title" id="open-toggle" onclick="openToggleInfoIC()">details</h6>
                <div class="activity-tab-container" id="ic">
                    <br>
                    <p><b style="color:  #b0b0b0;">Name:</b></p>
                    <p>{{ file_name }}</p>
                    <p><b style="color:  #b0b0b0;">Size:</b></p>
                    <p>{{ size }}</p>
                    <p><b style="color:  #b0b0b0;">Full Path:</b></p>
                    <p>{{ path }}</p>
                    <p><b style="color:  #b0b0b0;">Share link:</b></p>
                    <div class="share-link"><p>{{ share_link }}</p> <img class="img-copy" src="{{ url_for('static', filename='img/copy.png') }}"/></div>
                    <br>
                </div>

                <h6 class="tab-title id="open-toggle" onclick="openToggleInfoHistory()">History</h6>
                <div class="activity-tab-container" id="history">
                    <br>
                    {% for detail in details %}
                      <div class="details_field">
                          <div class="user-details-container">
                            <img class="img-details" src="{{ url_for('static', filename='img/add-user.png') }}" />
                            <div class="user-details-event-date">
                                <p class="details_event_user">{{ detail['user']['username'] }}</p>
                                <p class="details_event_name">{{ detail['event_name'] }}</p>
                                <p class="details_date" >{{ detail['date'] }}</p>
                                <!--<p class="details_event"><strong>Name of the file: </strong> {{ detail['event_value'] }}</p>-->
                                </div>
                          </div>
                      </div>
                    {% endfor %}
                    <br>
                </div>
              </form>
          </div>
          <div id="filter-comments" style="display: none;">
              <form id="filter-form-comments">
                <input type="hidden" id="project_name" value="{{ project_name }}" required />
                <input type="hidden" id="parent_id" value="{{ parent_id }}" required />
                <input type="hidden" id="ic_id" value="{{ ic_id }}" required />
                <div class="comments-div">
                  <div class="comment-div">
                    <input type="text" id="searchcomments" name="searchcomments" placeholder="Filter collab by @Users or #hashtag..."><br>
                    <div class="img-comment-container">
                    <img class="profile-icon" src="/get_profile_image/{{ profile_picture }}"/><textarea id="comment" rows="1" onkeypress="sendComment(event)" placeholder="Comment..."></textarea><br>
                    </div>
                  </div>
                  <br>
                  <div class="activity-tab-div-comment">
                    {% for comment in comments|reverse %}
                    {% include 'activity/single_comment.html' %}
                    {% endfor %}
                    </div>
                  </div>
              </form>
          </div>
          <div id="filter-post" style="display: none;">
              <form id="filter-form-post">
                <input type="hidden" id="project_name_post" value="{{ project_name }}" required />
                <br>
                <button type="button" class="activity-post-button" onclick="MarketOpen('Posts', '', NewPost, [this, {'ic_id': '{{ ic_id }}', 'stored_id': '{{ stored_id }}', 'parent_id': '{{ parent_id }}', 'project_name': '{{ project_name }}', 'name': '{{ name }}' }])">Create New Post</button>
                <br>
                <button type="button" class="activity-post-button" onclick="OpenPostListPopup({'ic_id': '{{ ic_id }}', 'stored_id': '{{ stored_id }}', 'parent_id': '{{ parent_id }}', 'project_name': '{{ project_name }}', 'name': '{{ name }}' });">Add to existing Post</button>
              </form>
          </div>
          <div id="filter-access" style="display: none;">
            <form id="filter-form-access">
                <div class="access-div">
                    <div class="activity-tab-div-access">
                        <h6 class="tab-title access" >owner</h6>
                        <div class="access-owner-profile">
                          {% for a in access %}
                            {% if 'OWNER' is in a['role'] %}
                            <img class="profile-icon" src="/get_profile_image/{{ a['user']['picture'] }}"/>
                            <p class="details_event owner-username" >{{ a['user']['username'] }}  </p>
                            {% endif %}
                          {% endfor %}
                        </div> 
                        <h6 class="tab-title access">collaborators</h6>
                       <div class="toggle-access" id="access-box">
                        <div class="create-user-container">
                        <div class="form__group field access-users-add">
                          <input type="text" class="form__field new-access" id="user_name" name="user_name" placeholder="Add User..." required />
                          <!--<label for="user_name" class="form__label access"> Add User...</label>-->
                          <input type="button" class="add-user" value="+" onclick="AddAccess()" />
                        </div>
                        <div class="form__group field">
                            <select class="form__field new-access" name="role" id='role' required >
                                <option data-img_src="{{ url_for('static', filename='img/view.png') }}"><span class="watcher">WATCHER</span></option>
                                <option data-img_src="{{ url_for('static', filename='img/pencil.png') }}"><span class="developer">DEVELOPER</span></option>
                                <option data-img_src="{{ url_for('static', filename='img/add-user.png') }}"><span class="admin">ADMIN</span></option>
                            </select>
                            <!--<label for="role" class="form__label">Role</label>-->
                        </div>
                       </div>
                      
                      {% for a in access %}
                      
                      <div class="access-container">
                          <!--<p><img class="profile-icon" src="/get_profile_image/{{ a['user']['picture'] }}"/><b class="details_event_user">{{ a['user']['username'] }}</b> </p>-->
                          <div class="access_field">
                            <div class="access-column-one">
                              {% if 'WATCHER' is  in a['role'] %}
                              <p class="details_event icon-column" ><img class="profile-icon access-img" src="/get_profile_image/{{ a['user']['picture'] }}"/></p>
                              {% endif %}
                              {% if 'DEVELOPER' is  in a['role'] %}
                              <p class="details_event icon-column" ><img class="profile-icon access-img" src="/get_profile_image/{{ a['user']['picture'] }}"/></p>
                              {% endif %}
                            </div><!--{{ url_for('static', filename='img/user.png') }}-->
                            <div class="access-column-two">
                              {% if 'WATCHER' is  in a['role'] %}
                              <p class="details_event user-column" >{{ a['user']['username'] }}  </p>
                              {% endif %}
                              {% if 'DEVELOPER' is  in a['role'] %}
                              <p class="details_event user-column" >{{ a['user']['username'] }}  </p>
                              {% endif %}
                            </div>
                            <div class="access-column-three">
                              <p class="details_event role-columne" >  
                                {% if 'WATCHER' is in a['role'] %}
                                    <img class="profile-icon access-img" src="{{ url_for('static', filename='img/view.png') }}"/>    
                                {% endif %}

                                {% if 'DEVELOPER' is in a['role'] %}
                                    <img class="profile-icon access-img" src="{{ url_for('static', filename='img/pencil.png') }}"/>    
                                {% endif %}
                              </p>
                            </div>
                            <div class="access-column-four">
                              {% if 'WATCHER' is in a['role'] %}
                              <img class="profile-icon access-img" src="{{ url_for('static', filename='img/clock.png') }}"/> 
                              <p class="details_event date-columne" >Accessebility date</p>
                              {% endif %}
                              {% if 'DEVELOPER' is in a['role'] %}
                              <img class="profile-icon access-img" src="{{ url_for('static', filename='img/clock.png') }}"/> 
                              <p class="details_event date-columne" >Accessebility date</p>
                              {% endif %}
                              {% if 'OWNER' not in a['role'] %}
                              <span class='remove-access' onclick="removeAccess( {{ a }} );">x</span>
                              {% endif %}
                            </div>
                          </div>
                        </div>
                    {% endfor %}
                    </div>
                </div>
              </form>
          </div>
        </div>
    </div>
</div>
